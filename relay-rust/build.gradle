task debug(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'build'
}

task release(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'build', '--release'
}

task test(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'test'
}

task install(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'install'
}

task clean(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'clean'
}

task checkstyle(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'fmt', '--', '--check'
}

task check(dependsOn: ['checkstyle', 'test'])
task build(dependsOn: ['check', 'debug', 'release'])

// Cross-compilation setup
task releaseCrossToWindows(type: Exec) {
    commandLine '/home/ubuntu/.cargo/bin/cargo', 'build', '--release', '--target=x86_64-pc-windows-gnu'
}
